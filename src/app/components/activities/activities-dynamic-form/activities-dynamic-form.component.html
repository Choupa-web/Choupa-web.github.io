<div id="container" [formGroup]="globalForm" fxLayout="row">
  <div class="left" fxLayout="row" fxLayoutAlign="center center" fxFlex="30" [id]="'ctrl-' + activityIcon.order" *ngIf="activityIcon.controlType == GRAPHICAL">
    {{ activityIcon.value }}
  </div>
  <div class="right" fxLayout="column">
    <h2>Entrez les informations de votre nouvelle activit√© {{ activityIcon.value }}</h2>
    <div fxLayout="row wrap" fxLayoutGap="40px" fxLayoutAlign="start">
    <ng-container *ngFor="let control of controlsList">
        <div [ngSwitch]="control.controlType" *ngIf="control.controlType !== GRAPHICAL">
          <mat-form-field [id]="'ctrl-' + control.order" appearance="outline">
            <mat-label>{{ control.label }}</mat-label>
            <div  *ngSwitchCase="'textboxdate'">
              <input matInput [matDatepicker]="picker" [formControlName]="control.controlName">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </div>
            <div *ngSwitchCase="'textboxtime'">
              <input type="time" matInput [formControlName]="control.controlName">
            </div>
            <div *ngSwitchCase="'textbox-decimal'">
              <input appReplaceCommaByDotInCtrl matInput [formControlName]="control.controlName">
            </div>
            <div *ngSwitchCase="'textbox-nodecimal'">
              <input matInput [formControlName]="control.controlName">
            </div>
            <span *ngIf="control.controlUnit" matSuffix>{{ control.controlUnit }}</span>
          </mat-form-field>

          <!--<mat-error *ngIf="control.controlName.hasError('required')">{{ control.label}} manquante</mat-error>-->
        </div>
    </ng-container>
    </div>
    <div fxLayout="row" fxLayoutAlign="start">
      <button mat-raised-button color="accent" (click)="saveForm()" [disabled]="globalForm.invalid">Ajouter</button>
    </div>
  </div>

</div>
